# Возможности Coffee Machine API

Этот документ описывает основные возможности и функциональность Coffee Machine API. Он охватывает основные операции для взаимодействия с системой кофемашины, включая создание заказов, отслеживание статистики напитков и управление напитками и ингредиентами.

## Содержание
- [Управление заказами](#управление-заказами)
- [Статистика](#статистика)
- [Управление напитками](#управление-напитками)
- [Управление ингредиентами](#управление-ингредиентами)

## Управление заказами

### Создание заказа
- **Эндпоинт**: `POST http://localhost:8080/api/coffee-machine/orders?drinkName=Latte`
- **Описание**: Создает заказ на определённый напиток и обновляет количество ингредиентов в базе данных.
- **Параметры запроса**:
    - `drinkName`: Название напитка, который необходимо заказать (например, "Эспрессо", "Американо", "Капучино").

#### Пример запроса:
```json
{
  "drinkName": "Espresso"
}
```

#### Пример ответа:
```json
{
    "id": 23,
    "drink": {
        "id": 4,
        "name": "Latte"
    },
    "createdAt": "2025-02-03T14:53:28.0219635"
}
```

## Статистика

### Проверка статистики
- **Эндпоинт**: `GET http://localhost:8080/statistics/drink?drinkName=Latte`
- **Описание**: Выводит статистику по конкретному напитку.
- **Парамметры запроса**: 
    - `drinkName`: Название напитка(например, "Эспрессо", "Американо", "Капучино").

#### Пример запроса:
```json
{
  "drinkName": "Latte"
}
```

#### Пример ответа:
```json
{
  "drinkName": "Latte",
  "orderCount": 1
}
```

### Запрос топ-напитка
- **Эндпоинт**: `GET http://localhost:8080/statistics/most-popular`
- **Описание**: Выводит топ-напиток и количество заказов.
- **Парамметры запроса**:
    - `none`

#### Пример ответа:
```json
{
  "drinkName": "Espresso",
  "orderCount": 3
}
```

## Управление напитками

### Получение списка напитков
- **Эндпоинт**: `GET http://localhost:8080/api/coffee-machine/drinks`
- **Описание**: Выводит список напитков.
- **Парамметры запроса**: 
    - `none`

#### Пример ответа:
```json
[
  {
    "id": 1,
    "name": "Espresso"
  },
  {
    "id": 2,
    "name": "Americano"
  },
  {
    "id": 3,
    "name": "Cappuccino"
  },
  {
    "id": 4,
    "name": "Latte"
  },
  {
    "id": 6,
    "name": "Double Espresso"
  }
]
```

### Получение напитка по id
- **Эндпоинт**: `GET http://localhost:8080/api/coffee-machine/drinks/4`
- **Описание**: Выводит статистику по конкретному напитку.
- **Парамметры запроса**:
    - `drinkId`: Id напитка.

#### Пример запроса:
```json
{
  "drinkId": 1
}
```

#### Пример ответа:
```json
{
    "id": 4,
    "name": "Latte"
}
```

### Создание нового напитка(рецепта)
- **Эндпоинт**: `POST http://localhost:8080/api/coffee-machine/drinks`
- **Описание**: Выводит статистику по конкретному напитку.
- **Парамметры запроса**:
    - `drinkName`:Название напитка, который необходимо заказать (например, "Эспрессо", "Американо", "Капучино").
    - `ingredients[]`: Список ингредиентов(название и количество)

#### Пример запроса:
```json
{
  "drinkName": "Double Espresso",
  "ingredients": {
    "coffee": 14,
    "water": 60
  }
}
```

## Управление ингредиентами

### Получение списка ингредиентов
- **Эндпоинт**: `GET http://localhost:8080/api/coffee-machine/ingredients`
- **Описание**: Выводит список ингредиентов.
- **Парамметры запроса**:
    - `none`

#### Пример ответа:
```json
[
  {
    "id": 1,
    "name": "coffee"
  },
  {
    "id": 2,
    "name": "water"
  },
  {
    "id": 3,
    "name": "milk"
  }
]
```

### Получение количества единиц ингредиента
- **Эндпоинт**: `GET http://localhost:8080/api/coffee-machine/ingredients/milk`
- **Описание**: Выводит ингредиентов количество выбранного ингредиента.
- **Парамметры запроса**:
    - `drinkName`: Название ингредиента(например, "Эспрессо", "Американо", "Капучино").

#### Пример запроса:
```json
{
  "ingredientName": "water"
}
```

#### Пример ответа:
```json
0
```

### Добавление количества ингредиента
- **Эндпоинт**: `POST http://localhost:8080/api/coffee-machine/ingredients`
- **Описание**: Выводит ингредиентов количество выбранного ингредиента.
- **Парамметры запроса**:
    - `ingredientName`: название ингредиента.
    - `quantity`: количество
